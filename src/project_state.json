{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Build a production-ready mobile live streaming + chat app named \"ZegoStream\" using proper React Native or full Android project structure, integrating Firebase (Auth/Firestore/Storage) and ZEGOCLOUD RTC for real camera-based host/audience live rooms plus 1:1 video calling, with modern dark UI and bottom navigation; remove any manual Stream URL/HLS approach and fix prior build/architecture issues.",
  "architectural_notes": [
    "Do not use HTML CDN scripts; integrate SDKs via proper mobile project dependencies/build tooling.",
    "Live streaming must be ZEGOCLOUD RTC camera-based host/audience rooms (no manual Stream URL input; not an HLS player approach)."
  ],
  "known_issues": [],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-remove-the-stream-url-based-streaming-flow-from-room-creation-and-room-viewing-eliminate-the-stream-url-field-from-the-create-room-form-stop-validating-it-and-stop-rendering-an-hls-mp4-video-src-room-streamurl-player-anywhere-in-the-room-page",
      "title": "Remove the Stream URL-based streaming flow from room creation and room viewing: eliminate the Stream URL field from the Create Room form, stop validating it, and stop rendering an HLS/MP4 <video src={room.streamUrl}> player anywhere in the Room page.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-dedicated-zego-real-time-live-streaming-experience-rtc-for-each-room-using-zegocloud-uikit-prebuilt-the-room-owner-can-start-join-as-host-using-device-camera-mic-and-non-owners-can-join-as-audience-to-watch-in-real-time-not-hls",
      "title": "Implement a dedicated ZEGO real-time live streaming experience (RTC) for each room using ZEGOCLOUD UIKit Prebuilt: the room owner can start/join as Host using device camera/mic, and non-owners can join as Audience to watch in real time (not HLS).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-add-in-stream-mic-and-camera-controls-for-the-host-and-for-any-role-where-controls-are-applicable-so-users-can-toggle-microphone-and-camera-during-the-live-session",
      "title": "Add in-stream mic and camera controls for the host (and for any role where controls are applicable) so users can toggle microphone and camera during the live session.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-zego-kit-token-generation-is-fully-wired-end-to-end-the-frontend-must-obtain-a-token-for-the-current-authenticated-user-and-room-and-the-backend-must-expose-a-generatezegokittoken-method-that-uses-stored-zego-credentials-app-id-server-secret-to-mint-a-kit-token-for-the-requested-room-user",
      "title": "Ensure ZEGO kit token generation is fully wired end-to-end: the frontend must obtain a token for the current authenticated user and room, and the backend must expose a generateZegoKitToken method that uses stored ZEGO credentials (app ID + server secret) to mint a kit token for the requested room/user.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-refactor-the-room-page-media-area-to-be-a-single-correct-real-time-live-streaming-view-host-audience-rather-than-a-tabbed-mix-of-groupcall-and-stream-url-playback-and-keep-the-existing-room-metadata-chat-mic-queue-gifts-and-follow-ui-intact",
      "title": "Refactor the Room page media area to be a single, correct real-time live streaming view (host/audience) rather than a tabbed mix of GroupCall and Stream URL playback, and keep the existing room metadata, chat, mic queue, gifts, and follow UI intact.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Create mobile app project structure for \"ZegoStream\" (proper React Native or full Android structure; production-ready; no HTML CDN scripts)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Integrate Firebase Authentication (Email + Google login)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Implement Firestore-based realtime chat",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Use Firebase Storage for user profile photos",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Integrate ZEGOCLOUD SDK with proper RTC (no HLS player; real-time streaming)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Live streaming rooms: host starts live via device camera; audience joins and watches (no manual Stream URL required)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "One-to-one video call feature using ZEGOCLOUD",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "In-call/stream controls: mic on/off and camera on/off buttons",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Gift sending UI during live streams",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "UI/UX: dark modern UI with bottom navigation (Home, Live, Chat, Profile)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Update the backend room model and APIs to no longer require or store a stream URL: remove Room.streamUrl, change createRoom to accept only (title, description), and update getRoom/getAllRooms types accordingly so the frontend can compile against the generated backend types.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "ZegoStream",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}